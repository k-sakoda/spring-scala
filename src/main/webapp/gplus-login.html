<!DOCTYPE html>
<html ng-app="MyApp">
<head lang="ja">
    <meta charset="UTF-8">
    <title>gplus-login</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/latest/css/bootstrap.min.css">
    <link rel="stylesheet" href="./css/ui-grid.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular-resource.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.15/i18n/angular-locale_ja.js"></script>
    <script src="./js/google-plus-signin.js"></script>
    <script>
        angular.module("MyApp", ["ngResource","directive.g+signin"])
        .run(["$rootScope","$resource", function($scope, $resource) {
            var hello = $resource("./api/google/hello");
            $scope.$on('event:google-plus-signin-success', function (event,authResult) {
                $scope.userInfo = hello.get({accessToken:authResult.access_token})
            });
            $scope.$on('event:google-plus-signin-failure', function (event,authResult) {
                console.log(event, authResult);
            });
        }]);
    </script>
</head>
<body>
    <div class="container">
        <h1>gplus-login</h1>
        <div ng-show="userInfo">
            {{userInfo}}
        </div>
        <div ng-show="!userInfo">
            <google-plus-signin clientid="642542541877-bu5eigunp4qr319g0q5umkqbekcj64ql.apps.googleusercontent.com" language="ja"></google-plus-signin>
        </div>
        キーやらは <a href="https://console.developers.google.com">https://console.developers.google.com</a> で生成する
    </div>
</body>
</html>
<!--
access_token: "ya29.SAHOpHNgr56r5x0B2fY4Rd2Y*****mH7kLGJpP59CHuiMpLWJDyeA"authuser: "0"client_id: "642542541877-bu5eigunp4qr319g0q5umkqbekcj64ql.apps.googleusercontent.com"code: "4/XiNa9cXdiLufHhYIpBWQ8kpQaOCdDbeSfhG500JmF_A.YnmFxIhHILIcBrG_bnfDxpLaeKrlmAI"cookie_policy: "single_host_origin"expires_at: "1427859174"expires_in: "3599"g_user_cookie_policy: "single_host_origin"id_token: "eyJhbGciOiJSUzI1NiIsImtpZCI6IjljMWMyZTZjODliYWQ3ZTlmMDJlOTg2MTk1NmQ2YTE5ZTNiMTliMjkifQ.eyJpc3MiOiJhY2NvdW50cy5nb29nbGUuY29tIiwic3ViIjoiMTAwOTIxMzU2MzY5MDgwNTQxMDM4IiwiYXpwIjoiNjQyNTQyNTQxODc3LWJ1NWVpZ3VucDRxcjMxOWcwcTV1bWtxYmVrY2o2NHFsLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tIiwiZW1haWwiOiJzaGltYXJpbkBnbWFpbC5jb20iLCJhdF9oYXNoIjoiX1ZxbTJ6SERUQ0Q4Zk43TFhGdFdHUSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJhdWQiOiI2NDI1NDI1NDE4NzctYnU1ZWlndW5wNHFyMzE5ZzBxNXVta3FiZWtjajY0cWwuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJjX2hhc2giOiJ0aE5DSVlPZmo4ZVFyc1NZUW8yZ2J3IiwiaWF0IjoxNDI3ODU1NTQyLCJleHAiOjE0Mjc4NTkxNzJ9.GN0S69JaujlNap18a6urLSo3xBd4peekC_5gHV2GQknrgoQUSw0up53-3f64YhXRjE763g8uS0BbwPFEJ74cIe5CUKE5MwpUCwn4e9YyCMxINVP83X7DOs99ZVkSr3f4j3SZ2zjAnFjT3pDPZR5SvIsOkexFUvmxaTbDbvCtyUE"issued_at: "1427855575"num_sessions: "1"prompt: "none"response_type: "code token id_token gsession"scope: "https://www.googleapis.com/auth/plus.login https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/plus.moments.write https://www.googleapis.com/auth/plus.me https://www.googleapis.com/auth/plus.profile.agerange.read https://www.googleapis.com/auth/plus.profile.language.read https://www.googleapis.com/auth/plus.circles.members.read"session_state: "a72581ab29e652671d0f278b0554380431dd1f2c..c577"state: ""
-->